
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>/></title>
    <meta name="description" content="New tab">
    <link rel="icon" href="empty.ico">

    <style>

:root{
    --bg: black;
    --text: white;
    --font: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    --fontsize: 1.6vh;
    --bgfit: cover;
    --bgpos: center;

    --iconsy: center;
    --iconsx: center;
    --iconsize: 10vh;
    --iconimgsize: 80%;
    --iconimgradius: 1vh;
    --iconimgborder: none;

    --windowborder: 1px solid var(--text);
    --windowpadout: 10vh;
    --windowpadin: 2vh;
    --windowradius: 1vh;
}

.flexy{
    display: flex;
    flex-direction: column;
}.flexx{
    display: flex;
    flex-direction: row;
    gap: 2vh;
    
    align-items: center;
}

input, .input{
    border: none;
    background: none;
    outline: none;
    border-bottom: 1px dashed var(--text);
    white-space: nowrap;
    min-width: 5vh;
    position: relative;
}
input::file-selector-button{
    width: 100%;
    position: absolute;
    opacity: 0;
    cursor: pointer;
}

.btn{
    cursor: pointer;
    transition: .2s;
    transition-property: transform, opacity;
}.btn:hover{
    transform: scale(1.1);
}

*{
    font-size: var(--fontsize);
    color: var(--text);
    font-family: var(--font);
    box-sizing: border-box;
}

#menu{
    background-color: var(--bg);
    height: 100vh;
    padding: 5vh;
    gap: 1vh;

    justify-content: center;
    align-items: start;
}

.split{
    width: 2vw;
    height: 1px;
    background: var(--text);
    margin-bottom: 3vh;
}
#holder{
    flex-grow: 1;
    height: 100vh;
    padding: var(--windowpadout);
}
#content{
    border: var(--windowborder);
    border-radius: var(--windowradius);
    height: 100%;
    padding: var(--windowpadin);

    display: flex;
    align-items: var(--iconsy);
    justify-content: var(--iconsx);
}

#background{
    width: 100vw;
    height: 100vh;
    position: absolute;
    top: 0;
    left: 0;

    background-repeat: no-repeat;
    background-position: var(--bgpos);
    background-size: var(--bgfit);
    opacity: var(--bgopacity);
}


.icons>*{
    display: flex;
    flex-direction: column;
    align-items: center;
    
    width: var(--iconsize);
    height: var(--iconsize);
    position: absolute;
}.icons>*>img{
    width: var(--iconimgsize);
    height: var(--iconimgsize);
    object-fit: contain;
    object-position: center;
    pointer-events: none;
    border-radius: var(--iconimgradius);
    border: var(--iconimgborder);
}.icons>*>div{
    flex-grow: 1;
}.icons *{
    user-select: none;
}

.context{
    position: absolute;
    background: var(--bg);
    box-shadow: 0 0 10px -1px var(--text);
    border-radius: 1vh;
    padding-top: 1vh;
    padding-bottom: 1vh;
    display: none;
}
.context>*{
    padding: .5vh;
    padding-left: 2vh;
    padding-right: 2vh;
    position: relative;
}.context>div::before{
    content: '';
    pointer-events: none;
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 0;
    
    background: var(--text);
    opacity: 0;
    transition: .2s ease-out;
    transition-property: width, opacity;
}.context>div:hover::before{
    width: 100%;
    opacity: .2;
}

.bar{
    background: var(--text);
    height: 1px;
    margin-top: 1vh;
    margin-bottom: 1vh;
    padding: 0;
}

    </style>
</head>
<body style="background: var(--bg); margin: 0; overflow: hidden;">
    <div id="background" class="screen" style="pointer-events: none;"></div>

    <div class="flexx screen" style="gap: 0;">
        <div id="menu" class="flexy" style="display: none;">
            <div>/&gt Settings</div>
    
            <div class="split"></div>
            <div class="flexx"><div>Text Color</div><input type="color" class="cssvar" data-prop-name="--text"></div>
            <div class="flexx"><div>Text Font</div><input type="text" class="cssvar" data-prop-name="--font"></div>
            <div class="flexx"><div>Text Size</div><input type="text" class="cssvar" data-prop-name="--fontsize"></div>
    
            <div class="split"></div>
            <div class="flexx"><div>Background Color</div><input type="color" class="cssvar" data-prop-name="--bg"></div>
            <div class="flexx"><div>Background image</div><input type="file" accept="image/*" onchange="bgfileopen(event)"></div>
            <div class="flexx"><div>Background fit</div><input type="text" class="cssvar" data-prop-name="--bgfit"></div>
            <div class="flexx"><div>Background position</div><input type="text" class="cssvar" data-prop-name="--bgpos"></div>
            <div class="flexx"><div>Background opacity</div><input type="number" class="cssvar" data-prop-name="--bgopacity"></div>
    
            <div class="split"></div>
            <div class="flexx"><div>Icon align x</div><input type="text" class="cssvar" data-prop-name="--iconsx"></div>
            <div class="flexx"><div>Icon align y</div><input type="text" class="cssvar" data-prop-name="--iconsy"></div>
            <div class="flexx"><div>Icon size</div><input type="text" class="cssvar" data-prop-name="--iconsize"></div>
            <div class="flexx"><div>Icon image size</div><input type="text" class="cssvar" data-prop-name="--iconimgsize"></div>
            <div class="flexx"><div>Icon corner radius</div><input type="text" class="cssvar" data-prop-name="--iconimgradius"></div>
            <div class="flexx"><div>Icon image border</div><input type="text" class="cssvar" data-prop-name="--iconimgborder"></div>
            <div class="flexx"><div>Icon snapping</div><input type="checkbox" class="jsvar" data-prop-name="iconsnapping" value="1"></div>
            <div class="flexx"><div>Icon corner snapping</div><input type="checkbox" class="jsvar" data-prop-name="cornersnapping"></div>
        
            <div class="split"></div>
            <div class="flexx"><div>Window pad in</div><input type="text" class="cssvar" data-prop-name="--windowpadin"></div>
            <div class="flexx"><div>Window pad out</div><input type="text" class="cssvar" data-prop-name="--windowpadout"></div>
            <div class="flexx"><div>Window border</div><input type="text" class="cssvar" data-prop-name="--windowborder"></div>
            <div class="flexx"><div>Window corner radius</div><input type="text" class="cssvar" data-prop-name="--windowradius"></div>
        </div>
        
        <div id="holder">
            <div id="content">
                <div class="icons" id="grid" style="width:100%; height:100%">
                    
                    <div id="iconPreview">
                        <img>
                        <div></div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div id="iconEdit" class="flexy context">
        <div class="flexx">
            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M28.565 3.434a4.89 4.89 0 0 0-6.915 0L4.357 20.73a3.7 3.7 0 0 0-1.002 1.84l-1.333 6.22a1 1 0 0 0 1.188 1.188l6.22-1.333a3.7 3.7 0 0 0 1.84-1.002l17.295-17.295a4.89 4.89 0 0 0 0-6.914m-5.5 1.414a2.89 2.89 0 0 1 4.085 4.086l-.9.9l-4.086-4.085zm-2.316 2.315l4.086 4.086L9.857 26.23a1.7 1.7 0 0 1-.846.46L4.3 27.7l1.01-4.71a1.7 1.7 0 0 1 .46-.846z"/></svg>
            <input type="text" id="inputIconLabel">
        </div>
        <div class="flexx" id="btnIconDel">
            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M13.5 6.5V7h5v-.5a2.5 2.5 0 0 0-5 0m-2 .5v-.5a4.5 4.5 0 1 1 9 0V7H28a1 1 0 1 1 0 2h-1.508L24.6 25.568A5 5 0 0 1 19.63 30h-7.26a5 5 0 0 1-4.97-4.432L5.508 9H4a1 1 0 0 1 0-2zM9.388 25.34a3 3 0 0 0 2.98 2.66h7.263a3 3 0 0 0 2.98-2.66L24.48 9H7.521zM13 12.5a1 1 0 0 1 1 1v10a1 1 0 1 1-2 0v-10a1 1 0 0 1 1-1m7 1a1 1 0 1 0-2 0v10a1 1 0 1 0 2 0z"/></svg>
            <div class="btn">Delete</div>
        </div>
        <span class="bar"></span>
        <span class="flexx">
            <div>Action:</div>
            <svg class="btnIconAction btn" data-action="0" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M26.29 4.293a1 1 0 1 1 1.414 1.414L17.413 16l10.291 10.29a1 1 0 1 1-1.414 1.414L16 17.413L5.707 27.704a1 1 0 0 1-1.414-1.414L14.585 16L4.293 5.707a1 1 0 0 1 1.414-1.414L16 14.584z"/></svg>
            <svg class="btnIconAction btn" data-action="1" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M8.5 5A3.5 3.5 0 0 0 5 8.5v15A3.5 3.5 0 0 0 8.5 27h15a3.5 3.5 0 0 0 3.5-3.5V19a1 1 0 1 1 2 0v4.5a5.5 5.5 0 0 1-5.5 5.5h-15A5.5 5.5 0 0 1 3 23.5v-15A5.5 5.5 0 0 1 8.5 3H13a1 1 0 1 1 0 2zM18 4a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v9a1 1 0 1 1-2 0V6.414l-7.293 7.293a1 1 0 0 1-1.414-1.414L25.586 5H19a1 1 0 0 1-1-1"/></svg>
            <svg class="btnIconAction btn" data-action="2" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M30 8a2 2 0 0 1-2 2h-4v16.125h-.002a4 4 0 0 1-4.217 3.87V30H6a4 4 0 0 1-4-4v-2a2 2 0 0 1 2-2h2V7a5 5 0 0 1 5-5h15a4 4 0 0 1 4 4zm-8 18V6c0-.729.195-1.412.535-2H11a3 3 0 0 0-3 3v15h8a2 2 0 0 1 2 2v2a2 2 0 1 0 4 0m2-20v2h4V6a2 2 0 0 0-2-2h-.002A2 2 0 0 0 24 6M4 24v2a2 2 0 0 0 2 2h10.535A4 4 0 0 1 16 26v-2z"/></svg>
            <svg class="btnIconAction btn" data-action="3" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 8.5V11h6.464a1.5 1.5 0 0 0 1.061-.44l2.06-2.06l-2.06-2.06a1.5 1.5 0 0 0-1.06-.44H6.5A2.5 2.5 0 0 0 4 8.5m-2 0A4.5 4.5 0 0 1 6.5 4h3.964a3.5 3.5 0 0 1 2.475 1.025L15.414 7.5H25.5A4.5 4.5 0 0 1 30 12v4.292a9 9 0 0 0-2-1.357V12a2.5 2.5 0 0 0-2.5-2.5H15.414l-2.475 2.475A3.5 3.5 0 0 1 10.464 13H4v10.5A2.5 2.5 0 0 0 6.5 26h9.012c.252.712.59 1.383 1.003 2H6.5A4.5 4.5 0 0 1 2 23.5zM31.5 23a7.5 7.5 0 1 0-15 0a7.5 7.5 0 0 0 15 0m-12.25-1h7.69l-2.72-2.72a.75.75 0 1 1 1.06-1.06l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 1 1-1.06-1.06l2.72-2.72h-7.69a.75.75 0 0 1 0-1.5"/></svg>
            <div id="iconActionName">Name</div>
        </span>
        <div class="flexx">
            <svg id="btnIconAction" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"></svg>
            <input type="text" id="iconActionValue">
        </div>
        <span class="bar"></span>
        <div class="flexx">
            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M18 11a3.5 3.5 0 1 1 7 0a3.5 3.5 0 0 1-7 0m3.5-1.5a1.5 1.5 0 1 0 0 3a1.5 1.5 0 0 0 0-3M3 7.5A4.5 4.5 0 0 1 7.5 3h17A4.5 4.5 0 0 1 29 7.5v17a4.5 4.5 0 0 1-4.5 4.5h-17A4.5 4.5 0 0 1 3 24.5zM7.5 5A2.5 2.5 0 0 0 5 7.5v17c0 .29.05.567.14.825l9.092-9.093a2.5 2.5 0 0 1 3.536 0l9.093 9.093c.09-.258.139-.536.139-.825v-17A2.5 2.5 0 0 0 24.5 5zm18 21.792l-9.146-9.146a.5.5 0 0 0-.707 0L6.5 26.792c.306.134.644.208.999.208h17a2.5 2.5 0 0 0 1-.208"/></svg>
            <input type="file" accept="image/*" id="inputIconImage">
        </div>
        <span class="flexx">
            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M9 3a1 1 0 0 0-2 0v4H3a1 1 0 0 0 0 2h4v11.5a4.5 4.5 0 0 0 4.5 4.5H23v4a1 1 0 1 0 2 0v-4h4a1 1 0 1 0 0-2H11.5A2.5 2.5 0 0 1 9 20.5zm14 8.5v10h2v-10A4.5 4.5 0 0 0 20.5 7h-10v2h10a2.5 2.5 0 0 1 2.5 2.5"/></svg>
            <div>Image fit:</div>
            <span class="iconImgFit btn" data-v="0">1</span>
            <span class="iconImgFit btn" data-v="1">2</span>
            <span class="iconImgFit btn" data-v="2">3</span>
            <span class="iconImgFit btn" data-v="3">4</span>
            <div id="iconImgFit">Contain</div>
        </span>
    </div>

    <div id="normalContext" class="flexy context">
        <div class="flexx btn" id="btnAddIcon">
            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M18 11a3.5 3.5 0 1 1 7 0a3.5 3.5 0 0 1-7 0m3.5-1.5a1.5 1.5 0 1 0 0 3a1.5 1.5 0 0 0 0-3M3 7.5A4.5 4.5 0 0 1 7.5 3h17A4.5 4.5 0 0 1 29 7.5v17a4.5 4.5 0 0 1-4.5 4.5h-17A4.5 4.5 0 0 1 3 24.5zM7.5 5A2.5 2.5 0 0 0 5 7.5v17c0 .29.05.567.14.825l9.092-9.093a2.5 2.5 0 0 1 3.536 0l9.093 9.093c.09-.258.139-.536.139-.825v-17A2.5 2.5 0 0 0 24.5 5zm18 21.792l-9.146-9.146a.5.5 0 0 0-.707 0L6.5 26.792c.306.134.644.208.999.208h17a2.5 2.5 0 0 0 1-.208"/></svg>
            <div>Add icon</div>
        </div>
        <div class="flexx btn" id="btnAddText">
            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M6 5a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v4a1 1 0 1 1-2 0V6h-7v20h2a1 1 0 1 1 0 2h-6a1 1 0 1 1 0-2h2V6H8v3a1 1 0 0 1-2 0z"/></svg>
            <div>Add text</div>
        </div>
    </div>

    <div id="elemIconSize" style="width: var(--iconsize); height: var(--iconsize); visibility: hidden; pointer-events: none;"></div>

    <div id="elemAnchor" style="position: absolute; display: none; justify-content: center; align-items: center;">
        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="m17 15l1.55 1.55c-.96 1.69-3.33 3.04-5.55 3.37V11h3V9h-3V7.82C14.16 7.4 15 6.3 15 5c0-1.65-1.35-3-3-3S9 3.35 9 5c0 1.3.84 2.4 2 2.82V9H8v2h3v8.92c-2.22-.33-4.59-1.68-5.55-3.37L7 15l-4-3v3c0 3.88 4.92 7 9 7s9-3.12 9-7v-3zM12 4c.55 0 1 .45 1 1s-.45 1-1 1s-1-.45-1-1s.45-1 1-1"/></svg>
    </div>

    <script src="script.js"></script>
</body>
</html>

